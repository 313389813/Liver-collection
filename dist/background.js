!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=37)}({13:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){var e=this;this.get=function(t){if(name="store."+e.name+"."+t,null!==localStorage.getItem(name))try{return JSON.parse(localStorage.getItem(name))}catch(e){return null}},this.set=function(t,n){if(void 0===n)e.remove(t);else{if("function"==typeof n)n=null;else try{n=JSON.stringify(n)}catch(e){n=null}localStorage.setItem("store."+e.name+"."+t,n)}return e},this.remove=function(t){return localStorage.removeItem("store."+e.name+"."+t),e},this.removeAll=function(){for(var t="store."+e.name+".",n=localStorage.length-1;n>=0;n--)localStorage.key(n).substring(0,t.length)===t&&localStorage.removeItem(localStorage.key(n));return e},this.toObject=function(){for(var t={},n=void 0,o=void 0,r="store."+e.name+".",i=localStorage.length-1;i>=0;i--)localStorage.key(i).substring(0,r.length)===r&&(n=localStorage.key(i).substring(r.length),void 0!==(o=e.get(n))&&(t[n]=o));return t},this.fromObject=function(t,n){for(var o in!0!==n&&e.removeAll(),t)t.hasOwnProperty(o)&&e.set(o,t[o]);return e}};t.default=function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o.call(this),this.name=t,void 0!==n)for(var r in n)n.hasOwnProperty(r)&&void 0===this.get(r)&&this.set(r,n[r])}},33:function(e,t,n){"use strict";e.exports={init_input_for_battle:function(){var e=document.getElementById("battle_input");e||((e=document.createElement("input")).id="battle_input",e.style.width="0px",e.style.height="0px",document.body.appendChild(e))},get_battle_room_href:function(e){chrome.browserAction.onClicked.addListener(function(){chrome.tabs.query({active:!0,currentWindow:!0},function(t){var n=chrome.tabs.connect(t[0].id,{name:"popup_to_content"}),o=document.getElementById("battle_input");o.focus(),o.value="",document.execCommand("paste");var r=o.value.trim();/^[A-Za-z0-9]+$/gi.test(r)&&8==r.length?n.postMessage({message:"battle_key_check",battleId:r,userId:e}):console.log("check failed")})})}}},34:function(e,t,n){"use strict";var o=n(6);e.exports={init_user_id:function(e){!e.get("userId")&&(0,o.get_by_cookie)("http://game.granbluefantasy.jp/user/user_id",{},function(t){var n=t.user_id;e.set("userId",n)})}}},35:function(e,t,n){"use strict";e.exports={zoom:1.5,is_left_sider_show:!0,is_right_sider_show:!1,head_address:"http://",address:"localhost:8023",black_list:[],is_scroll_style_show:!1,is_multil:!1,is_listen_board:!1,is_listen_bp:!1,is_rape:!1}},36:function(e,t,n){"use strict";var o=r(n(35));function r(e){return e&&e.__esModule?e:{default:e}}var i=new(r(n(13)).default)("options");fetch("./assets/black_list.json",{}).then(function(e){return e.json()}).then(function(e){var t=i.get("black_list"),n=[],o=!0,r=!1,s=void 0;try{for(var a,c=e[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var l=a.value,u=l.id;if(t&&t.length>0){var f=!0,d=!1,h=void 0;try{for(var _,g=t[Symbol.iterator]();!(f=(_=g.next()).done);f=!0){var m=_.value;m.id==u&&n.push(Object.assign({},m,l))}}catch(e){d=!0,h=e}finally{try{!f&&g.return&&g.return()}finally{if(d)throw h}}}else n=e}}catch(e){r=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(r)throw s}}i.set("black_list",n)});var s=i.toObject();i.fromObject(Object.assign({},o.default,s));e.exports={local:i}},37:function(e,t,n){"use strict";var o=n(36),r=n(34),i=n(33);window.store=o.local,(0,r.init_user_id)(o.local),chrome.browserAction.setPopup({popup:o.local.get("is_multil")?"":"index.html"}),(0,i.init_input_for_battle)(),(0,i.get_battle_room_href)(o.local.get("userId")),chrome.runtime.onMessage.addListener(function(e,t,n){var r=e.message,i=(e.zoom,e.search,{error:"",tasks:""});switch(r){case"get_zoom":i=Object.assign(i,{zoom:o.local.get("zoom")});break;case"get_search":i=Object.assign(i,{search:o.local.get("search")});break;case"get_sider_options":i=Object.assign(i,{left:o.local.get("is_left_sider_show"),right:o.local.get("is_right_sider_show")});break;case"get_scroll_options":i=Object.assign(i,{status:o.local.get("is_scroll_style_show")})}n(i)})},6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.upload_to_server=function(e,t,n){if(e){var o={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}};o=Object.assign(o,t),fetch(e,o).then(function(e){return e.text()}).then(function(e){return n(e)}).catch(function(e){})}},t.get_by_cookie=function(e,t,n){if(e){var o={credentials:"include"};o=Object.assign(o,t),fetch(e,o).then(function(e){return e.json()}).then(function(e){return n(e)}).catch(function(e){})}},t.post_by_cookie=function(e,t,n){if(e){var o={method:"POST",mode:"no-cors",credentials:"include"};o=Object.assign(o,t),fetch(e,o).then(function(e){return e.json()}).then(function(e){return n(e)}).catch(function(e){})}}}});