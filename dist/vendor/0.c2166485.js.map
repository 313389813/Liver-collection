{"version":3,"sources":["webpack:///./src/modules/Popup/css/Popup.css","webpack:///./src/modules/Popup/Popup.js","webpack:///./src/modules/Popup/css/Popup.css?b815","webpack:///./util/Request.js","webpack:///./util/Store.js"],"names":["Request","Option","environment","chrome","extension","getBackgroundPage","store","STORE","article","recovery","Popup","props","coopraid_search_value","get","state","btn_loading","btn_type","address","head_address","coopraid_switch_checked","defaultZoom","handle_search","Component","componentWillMount","handle_upload","setState","user_id","open","message","description","duration","get_by_cookie","steam_roller","result","body","JSON","stringify","upload_to_server","new_arr","arr","item","Array","isArray","push","apply","handle_address","event","target","value","handle_head_address","handle_coopraid_search","handle_coopraid_switch","checked","remove","tabs","query","active","currentWindow","port","connect","id","name","set","postMessage","search","handle_zoom","zoom","render","selectBefore","width","marginLeft","float","color","marginRight","clear","margin","textAlign","url","data","callback","params","method","headers","Object","assign","fetch","then","text","catch","credentials","json","Store","defaults","undefined","key","hasOwnProperty","propsName","localStorage","getItem","parse","e","setItem","removeItem","removeAll","i","length","substring","toObject","values","fromObject","merge"],"mappings":"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","file":"vendor/0.c2166485.js","sourcesContent":["exports = module.exports = require(\"../../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".Popup {\\r\\n    width: 300px;\\r\\n    height: 400px;\\r\\n    text-align: center;\\r\\n    padding: 8px;\\r\\n    background: #B0E0E6;\\r\\n    font-size: 14px;\\r\\n}\\r\\n\\r\\n.Popup .white-space {\\r\\n    margin-top: 8px;\\r\\n}\", \"\"]);\n\n// exports\n","/*\r\n * @Author: zy9@github.com/zy410419243 \r\n * @Date: 2018-05-20 14:46:14 \r\n * @Last Modified by: zy9\r\n * @Last Modified time: 2018-06-30 14:03:09\r\n */\r\nimport React, { Component } from 'react'\r\n\r\nimport { Button, Input, Select, notification, Switch, Tooltip, Slider } from 'antd'\r\nconst Option = Select.Option;\r\n\r\nimport * as Request from '../../../util/Request'\r\nimport store from '../../../util/Store'\r\n\r\n/**\r\n * start时是没有chrome的api的，用到localStorage的地方都会报错，\r\n * 这会让我感觉很多无关紧要的代码白写了，很气，\r\n * 于是有了以下容错\r\n*/\r\nlet environment;\r\nif(chrome.extension) {\r\n    environment = chrome.extension.getBackgroundPage();\r\n} else {\r\n    environment = { store: new store() };\r\n}\r\nconst { store: STORE } = environment;\r\n\r\nimport './css/Popup.css'\r\n\r\n// item第二页，红跟豆那页\r\nconst article = 'http://game.granbluefantasy.jp/item/article_list_by_filter_mode';\r\n// item第一页，日常素材\r\nconst recovery = 'http://game.granbluefantasy.jp/item/recovery_and_evolution_list_by_filter_mode';\r\n\r\nexport default class Popup extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const coopraid_search_value = STORE.get('search') || '';\r\n\r\n        this.state = {\r\n            btn_loading: false,\r\n            btn_type: 'primary',\r\n            address: 'localhost:8023',\r\n            head_address: 'http://',\r\n            coopraid_search_value,\r\n            coopraid_switch_checked: !!coopraid_search_value,\r\n            defaultZoom: STORE.get('zoom'),\r\n        }\r\n\r\n        !!coopraid_search_value && this.handle_search();\r\n    }\r\n\r\n    componentWillMount = () => {\r\n\r\n    }\r\n\r\n    handle_upload = () => {\r\n        const { head_address, address } = this.state;\r\n\r\n        this.setState({ btn_loading: true });\r\n\r\n        const user_id = STORE.get('userId');\r\n        if(!user_id) {\r\n            notification.open({\r\n                message: '非法操作',\r\n                description: '没获得到userId',\r\n                duration: 3\r\n            });\r\n\r\n            this.setState({ btn_loading: false });\r\n            \r\n            return;\r\n        }\r\n        \r\n        Request.get_by_cookie(article, {}, result => {\r\n            Request.get_by_cookie(recovery, {}, recovery => {\r\n                recovery = this.steam_roller(recovery);\r\n    \r\n                result = [...result, ...recovery];\r\n    \r\n                const body = `user_id=${ user_id }&data=${JSON.stringify(result)}`;\r\n                Request.upload_to_server(`${head_address}${address}/Memo/gbf/i_item.do`, { body }, result => {\r\n                    if(result == 'success') {\r\n                        notification.open({\r\n                            message: '上传成功',\r\n                            description: '',\r\n                            duration: 3\r\n                        });\r\n                    }\r\n                    \r\n                    this.setState({ btn_loading: false });\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    // 数组扁平化\r\n    steam_roller = arr => {\r\n        let new_arr = [];\r\n\r\n        for(let item of arr) {\r\n            Array.isArray(item) ? new_arr.push.apply(new_arr, this.steam_roller(item)) : new_arr.push(item);\r\n        }\r\n\r\n        return new_arr;\r\n    }\r\n\r\n    handle_address = event => this.setState({ address: event.target.value });\r\n\r\n    handle_head_address = head_address => this.setState({ head_address });\r\n\r\n    handle_coopraid_search = event => this.setState({ coopraid_search_value: event.target.value });\r\n\r\n    handle_coopraid_switch = checked => {\r\n        if(checked) {\r\n            this.handle_search();\r\n        } else {\r\n            STORE.remove('search');\r\n            this.setState({ coopraid_search_value: '' });\r\n        }\r\n\r\n        this.setState({ coopraid_switch_checked: checked });\r\n    }\r\n\r\n    handle_search = () => {\r\n        const { coopraid_search_value } = this.state;\r\n        \r\n        chrome.tabs.query({ active: true, currentWindow: true }, tabs => {\r\n            const port = chrome.tabs.connect(tabs[0].id, { name: 'popup_to_content' });\r\n\r\n            STORE.set('search', coopraid_search_value);\r\n            \r\n            port.postMessage({ message: 'open_coopraid_search', search: coopraid_search_value });\r\n        });\r\n    }\r\n\r\n    handle_zoom = zoom => {\r\n        STORE.set('zoom', zoom);\r\n\r\n        chrome.tabs.query({ active: true, currentWindow: true }, tabs => {\r\n            const port = chrome.tabs.connect(tabs[0].id, { name: 'popup_to_content' });\r\n            \r\n            port.postMessage({ zoom, message: 'set_zoom' });\r\n        });\r\n    }\r\n\r\n    render = () => {\r\n        const { btn_loading, address, coopraid_search_value, defaultZoom, coopraid_switch_checked } = this.state;\r\n\r\n        const selectBefore = (\r\n            <Select defaultValue='http://' style={{ width: 90 }} onChange={ this.handle_head_address }>\r\n                <Option value='http://'>http://</Option>\r\n                <Option value='https://'>https://</Option>\r\n                <Option value='ftp://'>ftp://</Option>\r\n            </Select>\r\n        );\r\n\r\n        return (\r\n            <div className='Popup'>\r\n                <Input addonBefore={ selectBefore } style={{ width: '90%' }} onChange={ this.handle_address } value={ address } />\r\n                <div className='white-space' />\r\n\r\n                <Button type='primary' loading={ btn_loading } onClick={ this.handle_upload } style={{ width: '90%' }}>上传素材</Button>\r\n                <div className='white-space' />\r\n\r\n                <Input style={{ width: '90%' }} onChange={ this.handle_coopraid_search } value={ coopraid_search_value } placeholder='这里填房间描述' />\r\n                <div className='white-space' />\r\n                \r\n                <div style={{ marginLeft: '6%' }}>\r\n                    <Tooltip title='看见上面的文本框了么，填了这个你才能开启搜索'>\r\n                        <span style={{ float: 'left', color: '#666' }}>是否开启共斗搜索</span>\r\n                        <Switch disabled={ !coopraid_search_value } onChange={ this.handle_coopraid_switch } checked={ coopraid_switch_checked } style={{ float: 'right', marginRight: '6%' }} />\r\n                        <div style={{ clear: 'both' }} ></div>\r\n                    </Tooltip>\r\n                </div>\r\n                <div className='white-space' />\r\n                \r\n                <div style={{ margin: '0 6%', textAlign: 'left' }}>\r\n                    <span style={{ color: '#666' }}>调节窗口大小</span>\r\n                    <Slider step={ 0.01 } min={ 0.3 } max={ 1.5 } defaultValue={ defaultZoom } onChange={ this.handle_zoom } />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","\nvar content = require(\"!!../../../../node_modules/_css-loader@0.28.11@css-loader/index.js!./Popup.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/_style-loader@0.21.0@style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/_css-loader@0.28.11@css-loader/index.js!./Popup.css\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/_css-loader@0.28.11@css-loader/index.js!./Popup.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\r\n * @Author: zy9@github.com/zy410419243 \r\n * @Date: 2018-06-08 09:13:33 \r\n * @Last Modified by: zy9\r\n * @Last Modified time: 2018-06-29 16:09:30\r\n */\r\n// 上传数据到服务器\r\nexport const upload_to_server = (url, data, callback) => {\r\n    if(!url) return;\r\n\r\n    let params = {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\r\n        },\r\n    }\r\n    params = Object.assign(params, data);\r\n\r\n    fetch(url, params).then(result => result.text()).then(result => callback(result))\r\n    .catch(error => {\r\n        // console.log(error)\r\n    });\r\n}\r\n\r\nexport const get_by_cookie = (url, data, callback) => {\r\n    if(!url) return;\r\n\r\n    let params = {\r\n        credentials: 'include', // 加入cookie\r\n    };\r\n    params = Object.assign(params, data);\r\n\r\n    fetch(url, params).then(result => result.json()).then(result => callback(result))\r\n    .catch(error => {\r\n        // console.log(error);\r\n    });\r\n}","/*\r\n * @Author: zy9@github.com/zy410419243 \r\n * @Date: 2018-06-25 22:28:14 \r\n * @Last Modified by: zy9\r\n * @Last Modified time: 2018-06-26 16:28:00\r\n */\r\nexport default class Store {\r\n    constructor(name, defaults) {\r\n        this.name = name;\r\n\r\n        if (defaults !== undefined) {\r\n            for (let key in defaults) {\r\n                if (defaults.hasOwnProperty(key) && this.get(key) === undefined) {\r\n                    this.set(key, defaults[key]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    get = (propsName) => {\r\n        name = 'store.' + this.name + '.' + propsName;\r\n\r\n        if (localStorage.getItem(name) === null) { return undefined; }\r\n\r\n        try {\r\n            return JSON.parse(localStorage.getItem(name));\r\n        } catch (e) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    set = (name, value) => {\r\n        if (value === undefined) {\r\n            this.remove(name);\r\n        } else {\r\n            if (typeof value === 'function') {\r\n                value = null;\r\n            } else {\r\n                try {\r\n                    value = JSON.stringify(value);\r\n                } catch (e) {\r\n                    value = null;\r\n                }\r\n            }\r\n\r\n            localStorage.setItem('store.' + this.name + '.' + name, value);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    remove = name => {\r\n        localStorage.removeItem('store.' + this.name + '.' + name);\r\n\r\n        return this;\r\n    }\r\n\r\n    removeAll = () => {\r\n        let name = 'store.' + this.name + '.';\r\n        for (let i = (localStorage.length - 1); i >= 0; i--) {\r\n            if (localStorage.key(i).substring(0, name.length) === name) {\r\n                localStorage.removeItem(localStorage.key(i));\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    toObject = () => {\r\n        let values = {}, key, value;\r\n\r\n        let name = 'store.' + this.name + '.';\r\n        for (let i = (localStorage.length - 1); i >= 0; i--) {\r\n            if (localStorage.key(i).substring(0, name.length) === name) {\r\n                key = localStorage.key(i).substring(name.length);\r\n                value = this.get(key);\r\n                if (value !== undefined) { values[key] = value; }\r\n            }\r\n        }\r\n\r\n        return values;\r\n    }\r\n\r\n    fromObject = (values, merge) => {\r\n        if (merge !== true) { this.removeAll(); }\r\n        for (let key in values) {\r\n            if (values.hasOwnProperty(key)) {\r\n                this.set(key, values[key]);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n}"],"sourceRoot":""}